# LinkedIn MCP Server

A Model Context Protocol (MCP) server that integrates with LinkedIn to fetch your network connections and their connections, store them in Pinecone vector database, and enable semantic search through your professional network.

## Features

- üîó **LinkedIn Integration**: Fetch your connections and their connections automatically
- üß† **AI-Powered Search**: Use natural language to search through your network
- üìä **Vector Storage**: Store connection data in Pinecone for fast semantic search
- üîç **Advanced Filtering**: Search by role, company, location, skills, and more
- üìà **Network Analytics**: Get insights about your network composition
- üîÑ **Real-time Updates**: Update connection information dynamically

## Prerequisites

- Node.js 18+
- TypeScript
- LinkedIn account with connections
- OpenAI API key
- Pinecone account and API key

## Installation

1. **Install dependencies**:
   ```bash
   cd mcp-server
   npm install
   ```

2. **Set up environment variables**:
   Create a `.env` file in the `mcp-server` directory:
   ```env
   # Required
   OPENAI_API_KEY=your_openai_api_key_here
   PINECONE_API_KEY=your_pinecone_api_key_here
   PINECONE_INDEX_NAME=ai-network
   
   # Optional (can be provided at runtime)
   LINKEDIN_EMAIL=your_linkedin_email@example.com
   LINKEDIN_PASSWORD=your_linkedin_password
   ```

3. **Set up Pinecone Index**:
   Create a Pinecone index with these specifications:
   - **Name**: `ai-network` (or match your `PINECONE_INDEX_NAME`)
   - **Dimensions**: 1536 (for OpenAI text-embedding-3-small)
   - **Metric**: cosine
   - **Pod Type**: Starter (for development)

4. **Build the server**:
   ```bash
   npm run build
   ```

## Usage

### Starting the MCP Server

```bash
npm start
```

### Available Tools

The MCP server provides these tools:

#### 1. `fetch_linkedin_connections`
Fetches your LinkedIn connections and stores them in Pinecone.

**Parameters**:
- `includeSecondDegree` (boolean): Whether to fetch second-degree connections
- `maxConnections` (number): Maximum number of connections to fetch (default: 500)
- `loginEmail` (string): LinkedIn login email (optional if in env)
- `loginPassword` (string): LinkedIn login password (optional if in env)

**Example**:
```json
{
  "includeSecondDegree": false,
  "maxConnections": 1000,
  "loginEmail": "your.email@example.com",
  "loginPassword": "your_password"
}
```

#### 2. `search_network`
Search through your LinkedIn network using natural language.

**Parameters**:
- `query` (string): Natural language search query
- `limit` (number): Maximum number of results (default: 10)
- `includeSecondDegree` (boolean): Include second-degree connections (default: false)

**Example**:
```json
{
  "query": "software engineers at Google",
  "limit": 5,
  "includeSecondDegree": false
}
```

#### 3. `update_connection_data`
Update specific connection information in Pinecone.

**Parameters**:
- `connectionId` (string): LinkedIn connection ID
- `updateFields` (object): Fields to update

**Example**:
```json
{
  "connectionId": "john-doe-123",
  "updateFields": {
    "title": "Senior Software Engineer",
    "company": "New Company Inc"
  }
}
```

#### 4. `get_network_stats`
Get statistics about your LinkedIn network.

**Example Response**:
```
Network Statistics:
- Total connections: 1,247
- Companies represented: 342
- Industries covered: 28
- Locations: 89
- Last updated: 2024-01-15T10:30:00.000Z
```

### Example Search Queries

- "Find product managers at startups"
- "Software engineers in San Francisco"
- "People who know React and TypeScript"
- "Marketing professionals at Fortune 500 companies"
- "Data scientists with machine learning experience"
- "Anyone working at Microsoft or Google"

## Integration with Your Application

### Using with Claude/MCP Client

Add this server to your MCP client configuration:

```json
{
  "mcpServers": {
    "linkedin-network": {
      "command": "node",
      "args": ["/path/to/mcp-server/dist/index.js"],
      "env": {
        "OPENAI_API_KEY": "your_key",
        "PINECONE_API_KEY": "your_key",
        "PINECONE_INDEX_NAME": "ai-network"
      }
    }
  }
}
```

### Using Programmatically

```typescript
import { LinkedInMCPServer } from './src/index.js';

const server = new LinkedInMCPServer();
await server.run();
```

## Data Privacy and Security

- **LinkedIn Credentials**: Only used for authentication, not stored permanently
- **Connection Data**: Stored in your own Pinecone index
- **No External Sharing**: All data remains in your control
- **Rate Limiting**: Respects LinkedIn's rate limits to avoid account issues

## Development

### Project Structure

```
mcp-server/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # Main MCP server
‚îÇ   ‚îú‚îÄ‚îÄ linkedin-scraper.ts   # LinkedIn data fetching
‚îÇ   ‚îî‚îÄ‚îÄ network-processor.ts  # Pinecone integration
‚îú‚îÄ‚îÄ dist/                     # Compiled JavaScript
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

### Building

```bash
npm run build
```

### Development Mode

```bash
npm run dev
```

### Watch Mode

```bash
npm run watch
```

## Important Notes

### LinkedIn Terms of Service

- This tool is for personal use with your own LinkedIn connections
- Respect LinkedIn's Terms of Service and rate limits
- Use responsibly and ethically
- Consider LinkedIn's API alternatives for commercial use

### Rate Limiting

The scraper includes built-in delays and rate limiting to:
- Avoid overwhelming LinkedIn's servers
- Prevent account restrictions
- Ensure stable operation

### Browser Automation

- Uses Puppeteer for LinkedIn interaction
- Runs in non-headless mode by default for debugging
- Set `headless: true` in production
- May require browser updates for compatibility

## Troubleshooting

### Common Issues

1. **Login Failed**:
   - Check credentials in `.env` file
   - Handle 2FA manually when prompted
   - Ensure account is not restricted

2. **Pinecone Connection Issues**:
   - Verify API key and index name
   - Ensure index dimensions are 1536
   - Check Pinecone account status

3. **Rate Limiting**:
   - Reduce `maxConnections` parameter
   - Increase delays in scraper
   - Use `includeSecondDegree: false` for faster processing

4. **Browser Issues**:
   - Update Chrome/Chromium
   - Check for system compatibility
   - Run in non-headless mode for debugging

### Support

For issues and questions:
1. Check the existing voice assistant integration
2. Review LinkedIn's developer documentation
3. Verify Pinecone and OpenAI API status

## License

This project is for personal use. Please respect LinkedIn's Terms of Service and use responsibly. 